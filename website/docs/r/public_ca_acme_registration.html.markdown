---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This file is automatically generated by Magic Modules and manual
#     changes will be clobbered when the file is regenerated.
#
#     Please read more about how to change this file in
#     .github/CONTRIBUTING.md.
#
# ----------------------------------------------------------------------------
subcategory: "Public ca"
description: |-
  Register an account with ACME with EAB key ID and HMAC key.
---

# google\_public\_ca\_acme\_registration

Register an account with ACME with EAB key ID and HMAC key.


To get more information about AcmeRegistration, see:

* How-to Guides
    * [Official Documentation](https://cloud.google.com/certificate-manager/docs/public-ca)
    * [Request EAB key ID and HMAC](https://cloud.google.com/certificate-manager/docs/public-ca-tutorial#request-key-hmac)
    * [Register ACME account](https://cloud.google.com/certificate-manager/docs/public-ca-tutorial#register-acme)
    * [Request Certificate Using Public CA](https://cloud.google.com/certificate-manager/docs/public-ca-tutorial)

~> **Warning:** Register an ACME account, and provide the EAB key ID and HMAC while registering.
You can only register one ACME account with an EAB secret.
After you have registered an ACME account by using an EAB secret, the EAB secret becomes invalid and you can't reuse it.
If you want to register multiple ACME accounts, you must request a unique EAB secret for each of the accounts.

~> **Warning:** All arguments including the following potentially sensitive
values will be stored in the raw state as plain text: `private_key_pem`, `eab_key_id`, `eab_hmac_key`.
[Read more about sensitive data in state](https://www.terraform.io/language/state/sensitive-data).

## Example Usage - Public Ca Acme Registration


```hcl
resource "tls_private_key" "default" {
  algorithm = "RSA"
  rsa_bits  = 2048
}

resource "google_public_ca_external_account_key" "account_key" {
  project = "my-project-name"
}

data "google_client_openid_userinfo" "user" {}

resource "google_public_ca_acme_registration" "test" {
  depends_on = [
    tls_private_key.default,
    data.google_client_openid_userinfo.user,
    google_public_ca_external_account_key.account_key
  ]
  name            = "test"
  email           = data.google_client_openid_userinfo.user.email
  private_key_pem = tls_private_key.default.private_key_pem_pkcs8
  eab_key_id      = google_public_ca_external_account_key.account_key.key_id
  eab_hmac_key    = google_public_ca_external_account_key.account_key.b64_mac_key
  project         = "my-project-name"
}
```

## Argument Reference

The following arguments are supported:


* `email` -
  (Required)
  Email address used for registering an account with ACME.

* `private_key_pem` -
  (Required)
  Private key in PEM format, used for registering an account with ACME. Currently only RSA is supported.
  **Note**: This property is sensitive and will not be displayed in the plan.

* `eab_key_id` -
  (Required)
  It is generated by the PublicCertificateAuthorityService when the ExternalAccountKey is created.
  **Note**: This property is sensitive and will not be displayed in the plan.

* `eab_hmac_key` -
  (Required)
  Base64-URL-encoded HS256 key. It is generated by the PublicCertificateAuthorityService
  when the ExternalAccountKey is created.
  **Note**: This property is sensitive and will not be displayed in the plan.


- - -


* `name` -
  (Optional)
  Name of the ACME registration, this is just used for resource identity.

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.


## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/global/acmeRegistrations/{{name}}`

* `account_uri` -
  Registered ACME account URI.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import

This resource does not support import.

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
