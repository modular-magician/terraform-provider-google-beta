---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This file is automatically generated by Magic Modules and manual
#     changes will be clobbered when the file is regenerated.
#
#     Please read more about how to change this file in
#     .github/CONTRIBUTING.md.
#
# ----------------------------------------------------------------------------
subcategory: "Identity-Aware Proxy"
page_title: "Google: google_iap_settings"
description: |-
  The IAP configurable settings.
---

# google\_iap\_settings

The IAP configurable settings.


To get more information about Settings, see:

* [API documentation](https://cloud.google.com/iap/docs/reference/rest/v1/IapSettings)

## Example Usage - Iap Settings


```hcl
resource "google_compute_backend_service" "default" {
  name          = "backend-service%{random_suffix}"
}

resource "google_iap_settings" "iap_settings" {
  backend_service_id = google_compute_backend_service.default.name
  application_settings {
    cookie_domain = "domain.dev"
  }
}
```

## Argument Reference

The following arguments are supported:


* `backend_service_id` -
  (Required)
  Identifier of the backend service to which this IAP settings should be attached to.


- - -


* `access_settings` -
  (Optional)
  Top level wrapper for all access related setting in IAP
  Structure is [documented below](#nested_access_settings).

* `application_settings` -
  (Optional)
  Top level wrapper for all application related settings in IAP.
  Structure is [documented below](#nested_application_settings).

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.


<a name="nested_access_settings"></a>The `access_settings` block supports:

* `gcip_settings` -
  (Optional)
  GCIP claims and endpoint configurations for 3p identity providers. Allows customers to configure tenant_id for GCIP instance per-app.
  Structure is [documented below](#nested_gcip_settings).

* `cors_settings` -
  (Optional)
  Configuration to allow cross-origin requests via IAP.
  Structure is [documented below](#nested_cors_settings).

* `oauth_settings` -
  (Optional)
  Settings to configure IAP's OAuth behavior.
  Structure is [documented below](#nested_oauth_settings).

* `reauth_settings` -
  (Optional)
  Settings to configure reauthentication policies in IAP.
  Structure is [documented below](#nested_reauth_settings).


<a name="nested_gcip_settings"></a>The `gcip_settings` block supports:

* `tenant_ids` -
  (Optional)
  GCIP tenant ids that are linked to the IAP resource. tenantIds could be a string beginning with a number character to indicate authenticating with GCIP tenant flow, or in the format of _ to indicate authenticating with GCIP agent flow. If agent flow is used, tenantIds should only contain one single element, while for tenant flow, tenantIds can contain multiple elements.

* `login_page_uri` -
  (Optional)
  Login page URI associated with the GCIP tenants. Typically, all resources within the same project share the same login page, though it could be overridden at the sub resource level.

<a name="nested_cors_settings"></a>The `cors_settings` block supports:

* `allow_http_options` -
  (Optional)
  Configuration to allow HTTP OPTIONS calls to skip authorization. If undefined, IAP will not apply any special logic to OPTIONS requests.

<a name="nested_oauth_settings"></a>The `oauth_settings` block supports:

* `login_hint` -
  (Optional)
  Domain hint to send as hd=? parameter in OAuth request flow. Enables redirect to primary IDP by skipping Google's login screen. https://developers.google.com/identity/protocols/OpenIDConnect#hd-param Note: IAP does not verify that the id token's hd claim matches this value since access behavior is managed by IAM policies.

<a name="nested_reauth_settings"></a>The `reauth_settings` block supports:

* `method` -
  (Optional)
  Reauth method required by the policy.
  Possible values are `METHOD_UNSPECIFIED`, `LOGIN`, `PASSWORD`, and `SECURE_KEY`.

* `max_age` -
  (Optional)
  Reauth session lifetime, how long before a user has to reauthenticate again.
  A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s".

* `policy_type` -
  (Optional)
  How IAP determines the effective policy in cases of hierarchial policies. Policies are merged from higher in the hierarchy to lower in the hierarchy.
  Possible values are `POLICY_TYPE_UNSPECIFIED`, `MINIMUM`, and `DEFAULT`.

<a name="nested_application_settings"></a>The `application_settings` block supports:

* `csm_settings` -
  (Optional)
  Configuration for RCTokens generated for CSM workloads protected by IAP. RCTokens are IAP generated JWTs that can be verified at the application. The RCToken is primarily used for ISTIO deployments, and can be scoped to a single mesh by configuring the audience field accordingly
  Structure is [documented below](#nested_csm_settings).

* `access_denied_page_settings` -
  (Optional)
  Custom content configuration for access denied page. IAP allows customers to define a custom URI to use as the error page when access is denied to users. If IAP prevents access to this page, the default IAP error page will be displayed instead.
  Structure is [documented below](#nested_access_denied_page_settings).

* `cookie_domain` -
  (Optional)
  The Domain value to set for cookies generated by IAP. This value is not validated by the API, but will be ignored at runtime if invalid.


<a name="nested_csm_settings"></a>The `csm_settings` block supports:

* `rctoken_aud` -
  (Optional)
  Audience claim set in the generated RCToken. This value is not validated by IAP.

<a name="nested_access_denied_page_settings"></a>The `access_denied_page_settings` block supports:

* `access_denied_page_uri` -
  (Optional)
  The URI to be redirected to when access is denied.

* `generate_troubleshooting_uri` -
  (Optional)
  Whether to generate a troubleshooting URL on access denied events to this application.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `{{project}}/iap_web/compute/services/{{backend_service_id}}:iapSettings`

* `name` -
  Required. The resource name of the IAP protected resource.


## Timeouts

This resource provides the following
[Timeouts](/docs/configuration/resources.html#timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


Settings can be imported using any of these accepted formats:

```
$ terraform import google_iap_settings.default {{project}}/iap_web/compute/services/{{backend_service_id}}:iapSettings
$ terraform import google_iap_settings.default {{project}}/{{backend_service_id}}
$ terraform import google_iap_settings.default {{backend_service_id}}
```
