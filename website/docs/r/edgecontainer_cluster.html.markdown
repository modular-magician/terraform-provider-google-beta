---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This file is automatically generated by Magic Modules and manual
#     changes will be clobbered when the file is regenerated.
#
#     Please read more about how to change this file in
#     .github/CONTRIBUTING.md.
#
# ----------------------------------------------------------------------------
subcategory: "Distributed Cloud Edge Container"
description: |-
  A managed Kubernetes Edge cluster.
---

# google\_edgecontainer\_cluster

A managed Kubernetes Edge cluster.


To get more information about Cluster, see:

* [API documentation](https://cloud.google.com/distributed-cloud/edge/latest/docs/reference/container/rest/v1/projects.locations.clusters)
* How-to Guides
    * [Google Distributed Cloud Edge](https://cloud.google.com/distributed-cloud/edge/latest/docs)

<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=edgecontainer_cluster&cloudshell_image=gcr.io%2Fgraphite-cloud-shell-images%2Fterraform%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Edgecontainer Cluster


```hcl
resource "google_edgecontainer_cluster" "default" {
  name = "basic-cluster"
  location   = "us-central1"

  authorization {
    admin_users {
      username = "admin@hashicorptest.com"
    }
  }

  networking {
    cluster_ipv4_cidr_blocks = ["10.0.0.0/16"]
    services_ipv4_cidr_blocks = ["10.1.0.0/16"]
  }
  
  fleet {
    project = "projects/${data.google_project.project.number}"
  }
}

data "google_project" "project" {}
```
<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=edgecontainer_cluster_with_maintenance_window&cloudshell_image=gcr.io%2Fgraphite-cloud-shell-images%2Fterraform%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Edgecontainer Cluster With Maintenance Window


```hcl
resource "google_edgecontainer_cluster" "default" {
  name = "cluster-with-maintenance"
  location   = "us-central1"

  authorization {
    admin_users {
      username = "admin@hashicorptest.com"
    }
  }

  networking {
    cluster_ipv4_cidr_blocks = ["10.0.0.0/16"]
    services_ipv4_cidr_blocks = ["10.1.0.0/16"]
  }

  fleet {
    project = "projects/${data.google_project.project.number}"
  }

  maintenance_policy {
    window {
      recurring_window {
        window {
          start_time = "2023-01-01T08:00:00Z"
          end_time = "2023-01-01T17:00:00Z"
        }
        
        recurrence = "FREQ=WEEKLY;BYDAY=SA"
      }
    }
  }

  labels = {
    test = "cluster-with-maintenance"
  }

  default_max_pods_per_node = 128
}

data "google_project" "project" {}
```

## Argument Reference

The following arguments are supported:


* `name` -
  (Required)
  A client-specified unique identifier for the cluster.

* `location` -
  (Required)
  The Google Cloud region in which the Cluster will be created and in which the Kubernetes control plane for the Cluster will be provisioned.

* `networking` -
  (Required)
  Cluster-wide networking configuration.
  Structure is [documented below](#nested_networking).

* `authorization` -
  (Required)
  RBAC policy that will be applied and managed by GEC.
  Structure is [documented below](#nested_authorization).


<a name="nested_networking"></a>The `networking` block supports:

* `cluster_ipv4_cidr_blocks` -
  (Required)
  All pods in the cluster are assigned an RFC1918 IPv4 address from these blocks. Only a single block is supported.

* `services_ipv4_cidr_blocks` -
  (Required)
  All services in the cluster are assigned an RFC1918 IPv4 address from these blocks. Only a single block is supported.

<a name="nested_authorization"></a>The `authorization` block supports:

* `admin_users` -
  (Required)
  RBAC policy that will be applied and managed by GEC.
  Structure is [documented below](#nested_admin_users).


<a name="nested_admin_users"></a>The `admin_users` block supports:

* `username` -
  (Required)
  An active Google username.

- - -


* `labels` -
  (Optional)
  User-defined labels for the edgecloud cluster.

* `fleet` -
  (Optional)
  Fleet configuration.
  Structure is [documented below](#nested_fleet).

* `default_max_pods_per_node` -
  (Optional)
  the desired maximum number of Kubernetes Pods to execute on each Node in this Cluster.

* `maintenance_policy` -
  (Optional)
  Cluster-wide maintenance policy configuration.
  Structure is [documented below](#nested_maintenance_policy).

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.


<a name="nested_fleet"></a>The `fleet` block supports:

* `project` -
  (Optional)
  The name of the Fleet host project where this cluster will be registered.

<a name="nested_maintenance_policy"></a>The `maintenance_policy` block supports:

* `window` -
  (Optional)
  Specifies the maintenance window in which maintenance may be performed.
  Structure is [documented below](#nested_window).


<a name="nested_window"></a>The `window` block supports:

* `recurring_window` -
  (Optional)
  Configuration of a recurring maintenance window.
  Structure is [documented below](#nested_recurring_window).


<a name="nested_recurring_window"></a>The `recurring_window` block supports:

* `window` -
  (Optional)
  Configuration of a recurring maintenance window.
  Structure is [documented below](#nested_window).

* `recurrence` -
  (Optional)
  An RRULE (https://tools.ietf.org/html/rfc5545#section-3.8.5.3) for how this window recurs. They go on for the span of time between the start and end time.


<a name="nested_window"></a>The `window` block supports:

* `start_time` -
  (Optional)
  The time that the window first starts.

* `end_time` -
  (Optional)
  The time that the window ends. The end time must take place after the start time.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/{{location}}/clusters/{{name}}`

* `create_time` -
  The time when the cluster was created in RFC3339 UTC "Zulu" format,
  accurate to nanoseconds.

* `update_time` -
  The time when the cluster was created in RFC3339 UTC "Zulu" format,
  accurate to nanoseconds.

* `cluster_ca_certificate` -
  The PEM-encoded public certificate of the cluster's CA.

* `endpoint` -
  The IP address of the Kubernetes API server.

* `control_plane_version` -
  The control plane release version.

* `node_version` -
  The lowest release version among all worker nodes. This field can be empty if the cluster does not have any worker nodes.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 30 minutes.
- `update` - Default is 30 minutes.
- `delete` - Default is 30 minutes.

## Import


Cluster can be imported using any of these accepted formats:

```
$ terraform import google_edgecontainer_cluster.default projects/{{project}}/locations/{{location}}/clusters/{{name}}
$ terraform import google_edgecontainer_cluster.default {{project}}/{{location}}/{{name}}
$ terraform import google_edgecontainer_cluster.default {{location}}/{{name}}
$ terraform import google_edgecontainer_cluster.default {{name}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
